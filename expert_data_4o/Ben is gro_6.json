{"comment": "```python\nfrom scipy.optimize import linprog\n\ndef prob_3(apples, pears, constraint1, constraint2, constraint3, constraint4):\n    \"\"\"\n    Args:\n        apples: an integer - number of acres of apples to grow\n        pears: an integer - number of acres of pears to grow\n        constraint1: an integer - total available land in acres\n        constraint2: an integer - minimum required acres of apples\n        constraint3: an integer - minimum required acres of pears\n        constraint4: a boolean - whether the pears should be at most twice the apples or not\n    Returns:\n        obj: an integer - optimal profit\n    \"\"\"\n    \n    # Coefficients of the objective function (profit)\n    c = [-2, -4]  # profit per apple and pear\n    \n    # Coefficients of the inequality constraints\n    A = [[1, 1], [0, 1]]\n    b = [constraint1, 2*apples] if constraint4 else [constraint1, 0]\n    \n    # Coefficients of the equality constraints\n    A_eq = [[1, 0], [0, 1]]\n    b_eq = [constraint2, constraint3]\n    \n    # Bounds for the variables (apples and pears)\n    x_bounds = (0, None)\n    \n    # Solve the linear programming problem\n    res = linprog(c, A_ub=A, b_ub=b, A_eq=A_eq, b_eq=b_eq, bounds=[x_bounds, x_bounds], method='highs')\n    \n    return -res.fun  # optimal profit\n```", "expert": "Programming Expert"}